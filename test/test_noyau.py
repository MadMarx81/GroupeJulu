from noyau import *
import pytest
def test_changerjoueur():
    assert (changer_joueur(1)) == 0
    assert (changer_joueur(2)) == 1
    assert (changer_joueur(43)) == None

def test_coup_gagnant():
    grille = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, 0, -1, -1, -1]
    ]
    assert not coup_gagnant(0, 2, 3, grille)
    grille_vertical = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1]
    ]
    assert coup_gagnant(0, 2, 0, grille_vertical)
    grille_horizontal = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [0, 0, 0, 0, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1]
    ]
    assert coup_gagnant(0, 3, 3, grille_horizontal)
    grille_diagonaled = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, 1, -1, -1, -1],
        [-1, -1, 1, -1, -1, -1, -1],
        [-1, 1, -1, -1, -1, -1, -1],
        [1, -1, -1, -1, -1, -1, -1]
    ]
    assert coup_gagnant(1, 2, 3, grille_diagonaled)
    grille_diagonaleg = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, 1, -1, -1, -1, -1],
        [-1, -1, -1, 1, -1, -1, -1],
        [-1, -1, -1, -1, 1, -1, -1],
        [-1, -1, -1, -1, -1, 1, -1]
    ]
    assert coup_gagnant(1, 2, 2, grille_diagonaleg)

def test_maj_jeu():
    grille_initiale = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1]
    ]
    assert maj_jeu((0,2), grille_initiale, [5,5,5,5,5,5,5], 0) == (5,2)

    grille_partielle = [
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1] 
    ]
    assert maj_jeu((0,0), grille_partielle, [2,5,5,5,5,5,5], 1) == (2,0)

    grille_pleine = [
        [1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1],
        [1, -1, -1, -1, -1, -1, -1],
        [0, -1, -1, -1, -1, -1, -1]     
    ]
    assert maj_jeu((0,0), grille_pleine, [0,5,5,5,5,5,5], 0) == (None, None)

